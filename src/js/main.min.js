/* ----------------------------------- */
/* ------ Custom ------ */
/* ----------------------------------- */
$(window).scroll(function(){
  if(this.scrollY > $('.l-header').outerHeight() / 2){
    $('.c-navbar').addClass('is-fixed');
  } else{
    $('.c-navbar').removeClass('is-fixed');
  };

  const newsTop = $('.l-news').offset().top - 60;
  const newsBottom = newsTop + $('.l-news').outerHeight() / 1.6;
  if (this.scrollY > newsTop && this.scrollY < newsBottom){
    $('body').addClass('is-news-active');
  } else{
    $('body').removeClass('is-news-active');
  };
})


let isOpened = false;
function handleBurger() {
  if(isOpened === false){
    $('.o-burger').addClass('is-opened');
    $('.c-navbar').addClass('is-opened');
    isOpened = true
  } else if (isOpened === true){
    $('.o-burger').removeClass('is-opened');
    $('.c-navbar').removeClass('is-opened');
    isOpened = false
  }
}



/* ----------------------------------- */
/* ------ Plugin ------ */
/* ----------------------------------- */
const scene = document.querySelectorAll('.js-parallax');

scene.forEach(function(el){
  const parallaxInstance = new Parallax(el,{
    relativeInput: true,
    hoverOnly: true
  });
  
})
// const parallaxInstance = new Parallax(scene,{
//   relativeInput: true,
//   hoverOnly: true
// });



const headerSwiper = new Swiper('.l-header__swiper',{
  loop: true,
  effect: 'fade',
  longSwipesRatio:0.1,
  speed: 1600,
  autoplay: {
    delay:3000,
    disableOnInteraction:false
  },
})

const newsSwiper = new Swiper('.l-news__swiper',{
  loop: true,
  longSwipesRatio:0.1,
  slidesPerView :4,
  spaceBetween: 30,
  speed: 1600,
  autoplay: {
    delay:3000,
    disableOnInteraction:false
  },
  navigation: {
    nextEl: '.l-news__btn-swiper.--next',
    prevEl: '.l-news__btn-swiper.--prev',
  },
})